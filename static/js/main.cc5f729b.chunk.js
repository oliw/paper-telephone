(this["webpackJsonppaper-telephone"]=this["webpackJsonppaper-telephone"]||[]).push([[0],{205:function(e,t){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(55),l=a.n(o),c=(a(64),a(2)),i=a(8),s=function e(t){Object(i.a)(this,e),this.number=t,this.writing=null,this.drawing=null,this.author=null};function u(e){return null!=e.drawing||null!=e.writing}function m(e,t){return!(t<0||t>=e.entries.length)&&u(e.entries[t])}var d=function e(t,a){Object(i.a)(this,e),this.player=t,this.entries=Array(a).fill(null);for(var n=0;n<a;n++)this.entries[n]=new s(n)};var p={name:"paper-telephone",setup:function(e){for(var t=e.numPlayers,a=t,n=Array(t),r={},o=0;o<t;o++)n[o]=new d(o,a),r["".concat(o)]=o;return{papers:n,numberOfRounds:a,currentSubmissionMethod:null,playerIdsToPaperIdx:r}},turn:{onBegin:function(e,t){e.currentSubmissionMethod=t.turn%2===0?"draw":"write"},onEnd:function(e,t){var a=t.numPlayers,n=e.playerIdsToPaperIdx,r={};return Object.keys(n).forEach((function(e){var t=n[e],o=(a+t-1)%a;r[e]=o})),Object(c.a)({},e,{playerIdsToPaperIdx:r})},endIf:function(e,t){var a=t.turn;return e.papers.every((function(e){return m(e,a-1)}))},activePlayers:{all:"submit",moveLimit:1},stages:{submit:{moves:{SubmitWriting:function(e,t,a){var n=t.playerID,r=t.turn,o=e.playerIdsToPaperIdx[n];e.papers[o].entries[r-1]=Object(c.a)({},e.papers[o].entries[r-1],{writing:a,author:n})},SubmitDrawing:function(e,t,a){var n=t.playerID,r=t.turn,o=e.playerIdsToPaperIdx[n];e.papers[o].entries[r-1]=Object(c.a)({},e.papers[o].entries[r-1],{drawing:a,author:n})}}}}},moves:{},endIf:function(e){var t=e.numberOfRounds;return e.papers.every((function(e){return m(e,t-1)}))?{}:null},minPlayers:2,maxPlayers:10},h=a(6),g=a(1),f="#ffffff",v="#bbded6",b="750px",E="18pt",y=g.a.create({main:{height:"30px",borderRadius:"10px",fontWeight:"bold",backgroundColor:v,borderColor:"grey",color:"grey",borderWidth:"2px",outline:"none",cursor:"pointer",":hover":{boxShadow:"1px 1px #888888"}},primary:{backgroundColor:v},secondary:{}});function w(e){var t=e.onClick,a=e.children,n=e.type,o="primary"===n,l="primary"!==n;return r.a.createElement("button",{className:Object(g.b)(y.main,o&&y.primary,l&&y.secondary),onClick:t},a)}var x=g.a.create({container:{display:"flex",flexDirection:"column",alignItems:"center"},canvas:{display:"none"},buttonsContainer:{display:"flex"}});var O=function(e){var t=e.onImageSelected,a=e.previousPhrase,o=Object(n.useRef)(null),l=Object(n.useRef)(null),c=Object(n.useState)(null),i=Object(h.a)(c,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){o&&!s&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=o.current;t.srcObject=e,t.play()}))}),[o,s]),r.a.createElement("div",{className:Object(g.b)(x.container)},r.a.createElement("div",{className:Object(g.b)(x.header)},r.a.createElement("p",null,"Time to draw!")),r.a.createElement("div",{className:Object(g.b)(x.promptContainer)},r.a.createElement("p",null,"Can you draw this phrase and take a picture of it?"),r.a.createElement("p",null,a)),r.a.createElement("div",{className:Object(g.b)(x.drawingContainer)},!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{ref:o,autoPlay:!0}),r.a.createElement("canvas",{className:Object(g.b)(x.canvas),ref:l,width:640,height:480})),s&&r.a.createElement("img",{src:s,alt:"Foo"})),r.a.createElement("div",{className:Object(g.b)(x.buttonsContainer)},!s&&r.a.createElement(w,{type:"primary",onClick:function(){l.current.getContext("2d").drawImage(o.current,0,0,l.current.width,l.current.height),u(l.current.toDataURL("image/jpeg"))}},"Take picture"),s&&r.a.createElement(w,{type:"primary",onClick:function(){t&&t(s)}},"Submit"),s&&r.a.createElement(w,{onClick:function(){return u(null)}},"Take a different picture")))},j=g.a.create({container:{display:"flex",flexDirection:"column"},input:{fontSize:E,marginBottom:"10px"}});var C=function(e){var t=e.onPhraseChosen,a=e.previousDrawingUri,n=r.a.useState(""),o=Object(h.a)(n,2),l=o[0],c=o[1],i=null==a,s=i?"Lets Begin!":"Guess that phrase!",u=i?"Enter a phrase that the next person will have to draw out.":"Take a look at the picture that the person before you drew. What do you think the word or phrase is?";return r.a.createElement("div",{className:Object(g.b)(j.container)},r.a.createElement("p",null,s),a&&r.a.createElement("img",{src:a,width:"640",height:"480",alt:"Foo"}),r.a.createElement("p",null,u),r.a.createElement("input",{className:Object(g.b)(j.input),type:"text",placeholder:"Enter a phrase here",value:l,onChange:function(e){c(e.target.value)}}),r.a.createElement(w,{type:"primary",onClick:function(){t(l)}},"Submit"))},I=g.a.create({card:{backgroundColor:"white",padding:"25px",borderWidth:"2px",borderRadius:"25px",borderColor:v,borderStyle:"solid"},header:{width:"100%",textAlign:"center",fontFamily:["Fredoka One","cursive"],color:v,padding:0,margin:0}});function N(e){var t=e.title,a=e.children;return r.a.createElement("div",{className:Object(g.b)(I.card)},r.a.createElement("div",{className:Object(g.b)(I.header)},r.a.createElement("span",null,t)),a)}function P(e,t){return t&&Array.isArray(t)?t.find((function(t){return"".concat(t.id)==="".concat(e)})).name:"".concat(e)}function k(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var n="#",r=0;r<3;r++){n+=("00"+(t>>8*r&255).toString(16)).substr(-2)}return n}g.a.create({text:{fontFamily:["Fredoka One","cursive"],color:v,padding:0,margin:0}});function S(e){var t=e.entry,a=e.first,n=e.gameMetadata;return r.a.createElement("div",null,a&&r.a.createElement("p",null,"First ",P(t.author,n)," wrote"),!a&&r.a.createElement("p",null,"Which ",P(t.author,n)," guessed was a drawing of the phrase"),r.a.createElement("p",null,t.writing))}function D(e){var t=e.entry,a=e.gameMetadata;return r.a.createElement("div",null,r.a.createElement("p",null,"Which ",P(t.author,a)," then drew as"),r.a.createElement("img",{src:t.drawing,width:"640",height:"480",alt:"Foo"}))}function W(e){var t=e.paper,a=e.gameMetadata,n=t.entries.map((function(e,t){return t%2===0?r.a.createElement(S,{key:t,entry:e,first:0===t,gameMetadata:a}):r.a.createElement(D,{key:t,entry:e,gameMetadata:a})}));return r.a.createElement("div",null,r.a.createElement("p",null,"Heres what ",P(t.player,a),"'s paper looked like"),n)}function T(e){var t=e.game,a=e.gameMetadata,n=r.a.useState(0),o=Object(h.a)(n,2),l=o[0],c=o[1],i=t.papers[l];return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement("p",null,"Its the end of the game!"),r.a.createElement("p",null,"Lets take a look at what everybody wrote and drew"),r.a.createElement("p",null,"You're currently looking at ",P(i.player,a),"'s paper"),r.a.createElement("button",{onClick:function(){c((t.papers.length+l-1)%t.papers.length)}},"Back"),r.a.createElement("button",{onClick:function(){c((l+1)%t.papers.length)}},"Next Thread")),r.a.createElement(N,null,r.a.createElement(W,{paper:i,gameMetadata:a})))}var A=g.a.create({container:{width:"100%",minHeight:"100%",position:"absolute",backgroundColor:v,display:"flex",justifyContent:"center",paddingTop:"15px"},innerContainer:{display:"flex",flexDirection:"column"},main:{flexGrow:1},cardContainer:{marginTop:"35px"}});function B(e){var t=e.moves,a=(e._,e.G),n=e.ctx,o=e.playerID,l=e.gameMetadata;if(n.gameover)return r.a.createElement("div",{className:Object(g.b)(A.container)},r.a.createElement("div",{className:Object(g.b)(A.innerContainer)},r.a.createElement("div",{className:Object(g.b)(A.cardContainer)},r.a.createElement(T,{game:a,gameMetadata:l}))));if(!o)return r.a.createElement("div",{className:Object(g.b)(A.container)},r.a.createElement("div",{className:Object(g.b)(A.innerContainer)},r.a.createElement("div",{className:Object(g.b)(A.cardContainer)},r.a.createElement(N,null,r.a.createElement("h1",null,"Unknown Player")))));var c=a.playerIdsToPaperIdx[o],i=a.papers[c],s=i.entries.slice().reverse().find((function(e){return u(e)})),m=null,d=null;return s&&"write"===a.currentSubmissionMethod&&(m=s.drawing),s&&"draw"===a.currentSubmissionMethod&&(d=s.writing),r.a.createElement("div",{className:Object(g.b)(A.container)},r.a.createElement("div",{className:Object(g.b)(A.innerContainer)},r.a.createElement("div",{className:Object(g.b)(A.cardContainer)},r.a.createElement(N,null,r.a.createElement("div",{className:Object(g.b)(A.details)},r.a.createElement("p",null,"The current turn is: ",n.turn,", which means its time to:"," ",a.currentSubmissionMethod),r.a.createElement("p",null,"There are ",n.numPlayers," players. You are player ",o)))),r.a.createElement("div",{className:Object(g.b)(A.cardContainer)},r.a.createElement(N,null,r.a.createElement("div",{className:Object(g.b)(A.main)},"write"===a.currentSubmissionMethod&&n.activePlayers[o]&&r.a.createElement(C,{onPhraseChosen:function(e){t.SubmitWriting(e)},previousDrawingUri:m}),"draw"===a.currentSubmissionMethod&&n.activePlayers[o]&&r.a.createElement(O,{onImageSelected:function(e){t.SubmitDrawing(e)},previousPhrase:d}),!n.activePlayers[o]&&r.a.createElement("p",null,"Waiting for others to finish their move"))))))}var R=a(5),G={onBegin:function(e,t){e.wordsInBowl=t.random.Shuffle(e.wordsInBowl),e.countdownStartedAt=null},onEnd:function(e,t){e.currentWord&&(e.wordsInBowl.push(e.currentWord),e.currentWord=null),e.groups[e.groupOrderPos].playOrderPos=(e.groups[e.groupOrderPos].playOrderPos+1)%e.groups[e.groupOrderPos].players.length,e.groupOrderPos=(e.groupOrderPos+1)%e.groups.length},endIf:function(e,t){return 0===e.wordsInBowl.length&&null==e.currentWord},order:{first:function(e){var t=e.groups[e.groupOrderPos];return t.players[t.playOrderPos]},next:function(e){var t=e.groups[e.groupOrderPos];return t.players[t.playOrderPos]}}},M={StartTheClock:function(e,t,a){if(null==e.countdownStartedAt){var n=e.wordsInBowl;e.currentWord=n.pop(),e.wordsInBowl=n,e.countdownStartedAt=a}},ScoreWord:function(e,t){if(e.currentWord){var a=t.currentPlayer,n=e.groups.find((function(e){return e.players.includes(a)}));n.score=n.score+=1;var r=e.currentWord;if(e.wordsCollected.push(r),e.currentWord=null,e.wordsInBowl===[])e.countdownStartedAt=null;else{var o=e.wordsInBowl;e.currentWord=o.pop(),e.wordsInBowl=o}}}},L=function(e,t){return 0===e.wordsInBowl.length&&null==e.currentWord},F=function(e,t){var a=e.wordsCollected;e.wordsInBowl=a,e.wordsCollected=[],e.countdownStartedAt=null},z={name:"saladbowl",minPlayers:4,maxPlayers:20,setup:function(e){return{countdownSeconds:null,groups:[],wordsInBowl:[],currentWord:null,wordsCollected:[],countdownStartedAt:null,wordsWrittenPerPlayer:1,groupOrderPos:0}},phases:{PickGroups:{start:!0,moves:{ChooseGroups:function(e,t,a,n){e.groups=a.map((function(e,t){return{score:0,players:e,playOrderPos:0,name:"".concat(t+1)}})),e.wordsWrittenPerPlayer=n||5}},endIf:function(e,t){return e.groups.map((function(e){return e.players})).flat().length===t.numPlayers},next:"BuildBowl"},BuildBowl:{turn:{activePlayers:{all:"WriteThings",moveLimit:1},stages:{WriteThings:{moves:{AddWords:function(e,t,a){e.wordsInBowl=[].concat(Object(R.a)(e.wordsInBowl),Object(R.a)(a))}}}}},endIf:function(e,t){return e.wordsInBowl.length===t.numPlayers*e.wordsWrittenPerPlayer},next:"DescribeThings"},DescribeThings:{onBegin:function(e){e.countdownSeconds=30},endIf:L,onEnd:F,next:"DescribeThingsOneWord",turn:Object(c.a)({},G),moves:Object(c.a)({},M)},DescribeThingsOneWord:{onBegin:function(e){e.countdownSeconds=30},endIf:L,onEnd:F,next:"ActItOut",turn:Object(c.a)({},G),moves:Object(c.a)({},M)},ActItOut:{onBegin:function(e){e.countdownSeconds=45},endIf:L,onEnd:F,turn:Object(c.a)({},G),moves:Object(c.a)({},M)}},endIf:function(e,t){return!(e.groups.map((function(e){return e.score})).reduce((function(e,t){return e+t}),0)<3*e.wordsWrittenPerPlayer*t.numPlayers)||null}},J=a(56),_=a.n(J),H=g.a.create({container:{padding:0}});function U(e){var t=e.color,a=e.children,n=t?{color:"".concat(t)}:null;return r.a.createElement("span",{className:Object(g.b)(H.container),style:n},a)}var Y=g.a.create({container:{display:"flex",flexDirection:"column"},teamSizeContainer:{display:"flex",flexDirection:"column",marginTop:"10px",marginBottom:"10px"}});var q=function(e){for(var t=e.moves,a=(e._,e.G,e.ctx),n=(e.playerID,e.gameMetadata),o=a.numPlayers,l=a.playOrder,c=r.a.useState(2),i=Object(h.a)(c,2),s=i[0],u=i[1],m=r.a.useState([]),d=Object(h.a)(m,2),p=d[0],f=d[1],v=r.a.useState(5),b=Object(h.a)(v,2),E=b[0],y=b[1],x=[],O=1;O<=15;O++)x.push(r.a.createElement("option",{id:O,value:O},O));var j=p.map((function(e){return function(e){var t=e.map((function(e){return P(e,n)}));return"(".concat(t.join(","),")")}(e)}));return r.a.createElement("div",{className:Object(g.b)(Y.container)},r.a.createElement(U,null,"Ok! It's your job to set up the game"),r.a.createElement("div",{className:Object(g.b)(Y.teamSizeContainer)},r.a.createElement(U,null,"How many teams?"),r.a.createElement("select",{value:s,onChange:function(e){var t=Number(e.target.value);o<t||(u(t),f([]))}},r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"))),r.a.createElement("div",{className:Object(g.b)(Y.teamSizeContainer)},r.a.createElement(U,null,"How many words per person?"),r.a.createElement("select",{value:E,onChange:function(e){var t=Number(e.target.value);o<s||y(t)}},x)),r.a.createElement(w,{onClick:function(){for(var e=Array(s),t=_()(l),a=0,n=0;a<t.length;)null==e[n]&&(e[n]=[]),e[n].push(t[a]),n=(n+1)%e.length,a++;f(e)}},"Randomize the ",s," groups!"),p.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The proposed groups are ",j.join(",")),r.a.createElement(w,{onClick:function(){t.ChooseGroups(p,E)}},"Choose these groups")))};var V=function(e){return e.moves,e._,e.G,e.ctx,e.playerID,e.gameMetadata,r.a.createElement("div",null,r.a.createElement("p",null,"Nothing for you to do, so sit back and relax!"))};var $=function(e){e.moves,e._,e.G;var t=e.ctx,a=e.playerID,n=(e.gameMetadata,a===t.currentPlayer?r.a.createElement(q,e):r.a.createElement(V,e));return r.a.createElement("div",null,n)},K=g.a.create({input:{fontSize:E,marginBottom:"5px",borderRadius:"10px",borderColor:v,borderWidth:"2px"}});function Q(e){var t=e.placeholder,a=e.value,n=e.onChange;return r.a.createElement("input",{className:Object(g.b)(K.input),type:"text",placeholder:t,value:a,onChange:function(e){n(e.target.value)}})}var X=g.a.create({container:{display:"flex",flexDirection:"column"}});var Z=function(e){var t=e.moves,a=(e._,e.G),n=e.ctx,o=e.playerID,l=(e.gameMetadata,a.wordsWrittenPerPlayer),c=r.a.useState(Array(l).fill(null)),i=Object(h.a)(c,2),s=i[0],u=i[1],m=s.map((function(e,t){return r.a.createElement(Q,{key:t,value:e||"",onChange:function(e){return function(e,t){var a=Object(R.a)(s);a[t]=e,u(a)}(e,t)}})}));return null==n.activePlayers[o]?r.a.createElement("p",null,"You're all done. Waiting for the others!"):r.a.createElement("div",{className:Object(g.b)(X.container)},r.a.createElement("p",null,"Choose ",l," words to go in the bowl"),r.a.createElement("p",null,"Decide on the video call if there should be a theme to the words (e.g. same letter)"),m,r.a.createElement(w,{onClick:function(){s.some((function(e){return null==e||0===e.length}))||t.AddWords(s)}},"Add Words To Bowl"))};var ee=function(e){return e.moves,e._,e.G,e.ctx,e.playerID,e.gameMetadata,r.a.createElement("div",null,r.a.createElement(Z,e))};var te=function(e){var t=e.moves,a=e.events,n=e.G,o=e.ctx,l=(e.playerID,e.gameMetadata,r.a.useState(null)),c=Object(h.a)(l,2),i=c[0],s=c[1];r.a.useEffect((function(){var e=setInterval((function(){if(n.countdownStartedAt){var e=n.countdownStartedAt+1e3*n.countdownSeconds,t=(new Date).getTime();if(t>=e)s(0);else{var a=e-t;s(Math.floor(a/1e3))}}}),1e3);return function(){return clearInterval(e)}}),[n.countdownStartedAt,n.countdownSeconds]);var u=0===i,m=!n.countdownStartedAt,d=n.countdownStartedAt&&!u,p="",g="";return"DescribeThings"===o.phase?(p="Its your turn to describe words to the rest of your group! There's no skipping, and make sure you don't say the word itself!",g="Describe"):"DescribeThingsOneWord"===o.phase?(p="Its your turn! This time you can only say one word to describe it, choose wisely!",g="Descibe using one word:"):"ActItOut"===o.phase&&(p="Act out the word on the paper. Noises are allowed. You get a bit longer on the clock, make sure your team is watching you on the video!",g="Act out:"),r.a.createElement("div",null,r.a.createElement("p",null,p),m&&r.a.createElement(w,{onClick:function(){t.StartTheClock((new Date).getTime())}},"Start the Clock"),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,g,": ",n.currentWord),r.a.createElement(w,{onClick:function(){t.ScoreWord()}},"Score!")),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Times up!"),r.a.createElement(w,{onClick:function(){a.endTurn()}},"End Turn")))};var ae=function(e){e.moves,e._,e.G;var t=e.ctx,a=(e.playerID,e.gameMetadata),n="doing";return"DescribeThings"===t.phase||"DescribeThingsOneWord"===t.phase?n="describing":"ActItOut"===t.phase&&(n="acting"),r.a.createElement("div",null,r.a.createElement("p",null,"Its your turn to guess what"," ",P(t.currentPlayer,a)," is ",n,"!"))};var ne=function(e){e.moves,e._;var t=e.G,a=e.ctx,n=e.playerID,o=(e.gameMetadata,t.groups.find((function(e){return e.players.includes(n)}))),l=n===a.currentPlayer,c=!l&&o.players.includes(a.currentPlayer),i=!l&&!c;return r.a.createElement("div",null,l&&r.a.createElement(te,e),c&&r.a.createElement(ae,e),i&&r.a.createElement("p",null,"Relax! Is not your group's turn."))},re=a(9),oe=g.a.create({container:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:f,padding:"3px",borderRadius:"10px",border:"2px solid",borderColor:v},header:{width:"100%",textAlign:"center"},footer:{width:"100%",textAlign:"center"},members:{display:"flex",alignItems:"center",justifyContent:"center"},player:{marginRight:"5px"}});function le(e){var t=P(e.player,e.gameMetadata),a=k(t);return r.a.createElement("div",{className:Object(g.b)(oe.player)},r.a.createElement(U,{color:a},t))}var ce=function(e){var t=e.group,a=(e.G,e.ctx),n=e.gameMetadata,o=!a.activePlayers&&a.currentPlayer,l=t.players.find((function(e){return e===o})),c=t.players.map((function(e,t){return r.a.createElement(le,{key:t,player:e,gameMetadata:n})})),i=r.a.createElement(le,{player:o,gameMetadata:n}),s=t.players.filter((function(e){return e!==o})).map((function(e,t){return r.a.createElement(le,{key:t,player:e,gameMetadata:n})}));return r.a.createElement("div",{className:Object(g.b)(oe.container)},r.a.createElement("div",{className:Object(g.b)(oe.members)},l&&r.a.createElement(r.a.Fragment,null,i,r.a.createElement("span",null,"\u27a1"),s),!l&&c),r.a.createElement("div",{className:Object(g.b)(oe.footer)},r.a.createElement(U,null,"Score: ",t.score)))},ie=a(15),se=re.StyleSheet.create({leader:{marginRight:"3px",display:"flex"},players:{display:"flex"},groups:{marginTop:"5px",marginBottom:"5px",marginRight:"10px",display:"flex",justifyContent:"center",flexWrap:"wrap"},row:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",alignContent:"baseline"},status:{width:"100%",textAlign:"center"},container:{display:"flex",flexDirection:"column"},activePlayer:{borderRadius:"3px",border:"2px solid",borderColor:v},iconWithText:{display:"flex",flexWrap:"nowrap",alignItems:"center"},timesUp:{animationName:ie.shake,animationDuration:"1s",animationIterationCount:3}});function ue(e){e.moves,e.events;var t=e.G,a=e.ctx,n=(e.playerID,e.gameMetadata),o=t.groups.map((function(e){return r.a.createElement("div",{className:Object(re.css)(se.group)},r.a.createElement(ce,{group:e,G:t,ctx:a,gameMetadata:n}))}));return r.a.createElement("div",{className:Object(re.css)(se.groups)},o.length>0&&o)}function me(e){var t=e.icon,a=e.text;return r.a.createElement("div",{className:Object(re.css)(se.iconWithText)},r.a.createElement("span",null,t),":",r.a.createElement("span",null,a))}var de=function(e){e.moves,e.events;var t=e.G,a=e.ctx,n=(e.playerID,e.gameMetadata),o=r.a.useState(null),l=Object(h.a)(o,2),c=l[0],i=l[1],s=function(e,t,a){var n="Unknown",r=t.currentPlayer;return t.gameover?n="Its game over! Thanks for playing!":"PickGroups"===t.phase?n="".concat(P(r,a)," is sorting out the groups"):"BuildBowl"===t.phase?n="Time for everyone fill up the bowl with words":"DescribeThings"===t.phase?n="Time for player ".concat(P(r,a)," to describe words to the rest of their group"):"DescribeThingsOneWord"===t.phase?n="Time for ".concat(P(r,a)," to describe words using just one word to the rest of their group"):"ActItOut"===t.phase&&(n="Time for ".concat(P(r,a)," to act out a word to the rest of their group")),n}(0,a,n);r.a.useEffect((function(){var e=setInterval((function(){if(t.countdownStartedAt){var e=t.countdownStartedAt+1e3*t.countdownSeconds,a=(new Date).getTime();if(a>=e)i(0);else{var n=e-a;i(Math.floor(n/1e3))}}else i(null)}),1e3);return function(){return clearInterval(e)}}),[t.countdownStartedAt,t.countdownSeconds]);var u=t.wordsInBowl.length;t.currentWord&&(u+=1);var m=0===c;return r.a.createElement("div",{className:Object(re.css)(se.container)},r.a.createElement("div",{className:Object(re.css)(se.row)},r.a.createElement(me,{icon:"\ud83e\udd63",text:u}),r.a.createElement("div",{className:Object(re.css)(m&&se.timesUp)},r.a.createElement(me,{icon:"\u23f2",text:c||"N/A"}))),r.a.createElement(ue,e),r.a.createElement("div",{className:Object(re.css)(se.status)},s))},pe=g.a.create({container:{boxSizing:"border-box",width:"100%",height:"100%",display:"flex",justifyContent:"center",padding:"3px"},game:{maxWidth:b,width:"100%"}});function he(e){var t=e.children;return r.a.createElement("div",{className:Object(g.b)(pe.container)},r.a.createElement("div",{className:Object(g.b)(pe.game)},t))}function ge(e){e.moves,e._,e.G;var t=e.ctx,a=(e.playerID,e.gameMetadata,null),n=null;return"PickGroups"===t.phase?(a=r.a.createElement($,e),n="Pick Groups"):"BuildBowl"===t.phase?(a=r.a.createElement(ee,e),n="Fill The Bowl"):"DescribeThings"===t.phase?(a=r.a.createElement(ne,e),n="Describe The Word"):"DescribeThingsOneWord"===t.phase?(a=r.a.createElement(ne,e),n="Describe The Word using Just One Word!"):"ActItOut"===t.phase&&(a=r.a.createElement(ne,e),n="Act It Out"),r.a.createElement(he,null,r.a.createElement(N,null,r.a.createElement(de,e)),a&&r.a.createElement(N,{title:n},a))}var fe=g.a.create({container:{height:"100%",minHeight:"100%",display:"flex",flexDirection:"column"},headerContainer:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:f,width:"100%",padding:"3px",boxSizing:"border-box"},headerLeft:{flex:1,textAlign:"left"},headerMiddle:{flex:1,textAlign:"center",animationName:ie.zoomIn,animationDuration:"1s"},headerRight:{flex:1,textAlign:"right"},appContainer:{flexGrow:1,position:"relative"}});function ve(e){var t=e.runningRoom,a=e.playerName,n=e.handleExitRoom;if(!t)return r.a.createElement("p",null,"Please wait");var o="paper-telephone"===t.gameName?"Paper Telephone":t.gameName;return r.a.createElement("div",{className:Object(g.b)(fe.headerContainer)},r.a.createElement("div",{className:Object(g.b)(fe.headerLeft)},r.a.createElement("button",{onClick:function(){n()}},"Back to Lobby")),r.a.createElement("div",{className:Object(g.b)(fe.headerMiddle)},"Now playing: ",o),r.a.createElement("div",{className:Object(g.b)(fe.headerRight)},"Playing as: ",a))}function be(e){var t=e.runningGame,a=e.rooms,n=e.playerName,o=e.handleExitRoom,l=a.find((function(e){return e.gameID===t.gameID}));return r.a.createElement("div",{className:Object(g.b)(fe.container)},r.a.createElement(ve,{runningGame:t,runningRoom:l,playerName:n,handleExitRoom:o}),r.a.createElement("div",{className:Object(g.b)(fe.appContainer)},r.a.createElement(t.app,{gameID:t.gameID,playerID:t.playerID,credentials:t.credentials})))}var Ee=g.a.create({container:{textAlign:"center"},icon:{},text:{padding:0,margin:0}});function ye(e){var t=e.name,a=k(t);return r.a.createElement("div",{className:Object(g.b)(Ee.container)},r.a.createElement("svg",{className:Object(g.b)(Ee.icon),width:"1em",height:"1em",viewBox:"0 0 16 16",fill:a,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})),r.a.createElement("p",{className:Object(g.b)(Ee.text),style:{color:"".concat(a)}},t))}var we=g.a.create({container:{height:"100%",display:"flex",flexDirection:"column",position:"relative"},seatedPlayers:{display:"flex",alignItems:"center",flexWrap:"wrap"},seatedPlayersLabel:{marginRight:"10px"},seatedPlayerIcon:{marginRight:"10px"},nameChooserContainer:{display:"flex",alignItems:"center",flexDirection:"column"},game:{borderRadius:"10px",borderStyle:"solid",borderColor:v,borderWidth:"2px",padding:"10px"},gameContainer:{marginBottom:"10px"},chooseName:{animationName:ie.headShake,animationDuration:"1s",animationIterationCount:2}});function xe(e){var t=e.onEnter,a=r.a.useState(""),n=Object(h.a)(a,2),o=n[0],l=n[1];return r.a.createElement("div",{className:Object(g.b)(we.nameChooserContainer)},r.a.createElement(Q,{placeholder:"Choose a name",value:o,onChange:l}),r.a.createElement(w,{className:"buttons",onClick:function(){""!==o&&(l(""),t(o))}},"Enter"))}function Oe(e){var t=e.rooms,a=e.playerName,n=e.handleJoinRoom,o=e.handleLeaveRoom,l=e.handleStartGame,c=e.handleRequestNewGame,i=t.map((function(e){return r.a.createElement("div",{key:e.gameID,className:Object(g.b)(we.gameContainer)},r.a.createElement(je,{room:e,playerName:a,handleJoinRoom:n,handleLeaveRoom:o,handleStartGame:l}))}));return r.a.createElement("div",null,r.a.createElement("p",null,"Choose from ",t.length," existing games"),i,r.a.createElement("p",null,"Or... ",r.a.createElement(w,{onClick:c},"Host a new game")))}function je(e){var t=e.room,a=e.playerName,n=e.handleJoinRoom,o=e.handleLeaveRoom,l=e.handleStartGame,c=t.gameID,i=t.gameName,s=t.players,u=(s.map((function(e){return e.name})).join(","),s.find((function(e){return e.name===a}))),m=null!=u,d=s.find((function(e){return!e.name})),p=s.filter((function(e){return!e.name})),h=null!=d,f="Visitor"!==a&&!m&&h,v=m,b=m&&!h,E=s.map((function(e){return e.name})).filter((function(e){return null!=e})).map((function(e){return r.a.createElement("div",{id:e,className:Object(g.b)(we.seatedPlayerIcon)},r.a.createElement(ye,{name:e,key:e}))})),y="paper-telephone"===i?"Telephone":i;return r.a.createElement("div",{className:Object(g.b)(we.game)},r.a.createElement("p",null,y),r.a.createElement("div",{className:Object(g.b)(we.seatedPlayers)},r.a.createElement("p",{className:Object(g.b)(we.seatedPlayersLabel)},"Players:"),E),h&&r.a.createElement("p",null,"Waiting for ",p.length," more players to take a seat"),f&&r.a.createElement(w,{onClick:function(){n(i,c,""+d.id)}},"Take a Seat"),b&&r.a.createElement("div",null,r.a.createElement("p",null,"Everyone is sat down!"),r.a.createElement(w,{onClick:function(){l(i,{gameID:c,playerID:""+u.id,numPlayers:s.length})}},"Enter the game")),v&&r.a.createElement(w,{onClick:function(){o(i,c)}},"Leave"))}function Ce(e){var t=e.games,a=e.createGame,n=e.onDismiss,o=r.a.useState(t[0]),l=Object(h.a)(o,2),c=l[0],i=l[1],s=r.a.useState(t[0].game.minPlayers),u=Object(h.a)(s,2),m=u[0],d=u[1],p=c?c.game.name:"--",g=t.map((function(e){return r.a.createElement("option",{key:e.game.name,value:e.game.name},e.game.name)}));return r.a.createElement("div",null,r.a.createElement("p",null,"Which game do you want to play?"),r.a.createElement("select",{value:p,onChange:function(e){var a=e.target.value;if(""!==a){var n=t.find((function(e){return e.game.name===a}));i(n),m<n.game.minPlayers&&d(n.game.minPlayers),m>n.game.maxPlayers&&d(n.game.minPlayers)}else i(null)}},g),r.a.createElement("p",null,"And how many players?"),r.a.createElement("select",{value:m,onChange:function(e){var t=e.target.value;d(t)}},function(e){return Object(R.a)(new Array(e.game.maxPlayers+1).keys()).slice(e.game.minPlayers)}(c).map((function(e){return r.a.createElement("option",{key:"num-option-"+e,value:e},e)}))),r.a.createElement(w,{onClick:function(){console.log(p),a(p,m),n()}},"Create"))}function Ie(e){e.errorMsg;var t=e.gameComponents,a=e.rooms,n=(e.phase,e.playerName),o=(e.runningGame,e.handleEnterLobby),l=(e.handleExitLobby,e.handleCreateRoom),c=e.handleJoinRoom,i=e.handleLeaveRoom,s=(e.handleExitRoom,e.handleRefreshRooms,e.handleStartGame),u=r.a.useState(null==n),m=Object(h.a)(u,2),d=m[0],p=m[1],f=r.a.useState(null),v=Object(h.a)(f,2),b=v[0],E=v[1],y="Visitor"!==n;return r.a.createElement("div",{className:Object(g.b)(we.container)},r.a.createElement(he,null,r.a.createElement(N,{title:"Welcome"},r.a.createElement("p",null,"Hi ",n||"",", Welcome to the Paper Gamer Lobby!"),!d&&y&&r.a.createElement(w,{onClick:function(){return p(!0)}},"Change Name"),!d&&!y&&r.a.createElement("div",{className:Object(g.b)(we.chooseName)},r.a.createElement(w,{onClick:function(){return p(!0)}},"Choose Name")),d&&r.a.createElement(xe,{onEnter:function(e){p(!1),o(e)}})),a.length>0&&r.a.createElement(N,{title:"Join a Game"},r.a.createElement(Oe,{rooms:a,playerName:n,handleJoinRoom:c,handleLeaveRoom:i,handleStartGame:s,handleRequestNewGame:function(){return E(!0)}})),(b||0===a.length)&&r.a.createElement(N,{title:"Create a new Game"},r.a.createElement(Ce,{games:t,createGame:l,onDismiss:function(){return E(!1)}}))))}var Ne=g.a.create({container:{height:"100%"}});function Pe(e){var t=e.runningGame;return r.a.createElement("div",{className:Object(g.b)(Ne.container)},t&&r.a.createElement(be,e),!t&&r.a.createElement(Ie,e))}var ke=g.a.create({text:{fontFamily:["Fredoka One","cursive"],color:v,padding:0,margin:0}});function Se(){return r.a.createElement("div",null,r.a.createElement("h1",{className:Object(g.b)(ke.text)},"Paper Gamer"))}var De=g.a.create({container:{width:"100%",display:"flex",justifyContent:"center",paddingTop:"4px",paddingBottom:"4px",backgroundColor:f}});var We=function(){return r.a.createElement("div",{className:Object(g.b)(De.container)},r.a.createElement(Se,null))},Te=a(32),Ae=g.a.create({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:v},header:{},main:{flexGrow:1,overflow:"auto"},wrapper:{}}),Be=[{game:p,board:B},{game:z,board:ge}];var Re=function(){return r.a.createElement("div",{className:Object(g.b)(Ae.container)},r.a.createElement("div",{className:Object(g.b)(Ae.header)},r.a.createElement(We,null)),r.a.createElement("div",{className:Object(g.b)(Ae.main)},r.a.createElement(Te.a,{gameServer:"https://games-server.oliverwilkie.com",lobbyServer:"https://games-server.oliverwilkie.com",gameComponents:Be,renderer:Pe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,t,a){e.exports=a(209)},64:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.cc5f729b.chunk.js.map